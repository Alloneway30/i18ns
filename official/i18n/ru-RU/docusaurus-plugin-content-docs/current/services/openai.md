# Open AI (Azure OpenAI)

После подписки на [Immersive Translation Pro Membership](https://immersivetranslate.com/pricing/) можно напрямую использовать сервис перевода OpenAI (рекомендуется)

[Нажмите здесь, чтобы узнать больше](https://immersivetranslate.com/pricing/)

## Получение API Key через официальную платформу разработчиков OpenAI

- [Официальный сайт openAI API](https://openai.com/api/)
  - Внимание: в настоящее время OpenAI не предоставляет возможность регистрации с использованием китайских номеров телефонов.
- После регистрации аккаунта OpenAI, откройте [API Secret Key](https://platform.openai.com/account/api-keys) и создайте API Secret Key.
- Затем введите ключ в настройках OpenAI в расширении Immersive Translation.

## Внимание

1. **Если кредитная карта не привязана, или вы новый пользователь OpenAI с лимитом в 5 долларов, максимальное количество запросов в минуту составляет 3**, что практически делает использование невозможным, ошибки очень вероятны. [Вы можете проверить ограничения частоты запросов вашего API здесь](https://platform.openai.com/account/rate-limits)
2. API OpenAI и ChatGPT - это две разные услуги. Расширение для погруженного перевода поддерживает API OpenAI, а не веб-версию ChatGPT, поэтому вам нужно активировать сервис API OpenAI, а не подписываться на ChatGPT plus. После активации введите ваш API ключ в настройках.
3. Ошибка 429 указывает на превышение лимита частоты запросов в OpenAI, рекомендуется снизить максимальное количество запросов в секунду, особенно при переводе электронных книг. Даже в платной версии необходимо уменьшить количество запросов в секунду до 5, чтобы обеспечить более стабильную работу.
4. Стоимость модели OpenAI gpt-3.5-turbo составляет: $0.002 за 1K токенов, практические тесты показывают, что перевод 660 тысяч английских символов обходится примерно в 1 доллар, а перевод 170 тысяч английских символов обходится примерно в 0.25 доллара.
5. Расширение для погруженного перевода поддерживает балансировку нагрузки между несколькими API ключами. При вводе используйте английскую запятую `,` для разделения различных ключей.

## Рекомендации по текущему количеству запросов

Недавно OpenAI также значительно ограничила использование для платных пользователей, начиная с версии 0.5.0, единица измерения количества запросов по умолчанию была изменена на секунды, а максимальное количество запросов в секунду по умолчанию было изменено на 10 запросов.

## Azure OpenAI

Сервис перевода OpenAI также совместим с интерфейсом Azure OpenAI. Сначала создайте сервис OpenAI в консоли Azure, затем перейдите в Azure AI Studio: <https://oai.azure.com>, создайте deployment для gpt-35-turbo, запомните имя deployment.

После развертывания модели gpt-35-turbo, откройте страницу настроек OpenAI для погруженного перевода:

1. В поле Api Key введите Key, предоставленный консолью Azure.
2. Нажмите, чтобы раскрыть дополнительные настройки, и установите пользовательский адрес:

`https://{your-custom-name}.openai.azure.com/openai/deployments/{you-deployment-name}/chat/completions?api-version=2024-07-01-preview`

Замените `{your-custom-name}` на ваше собственное поддоменное имя, `{you-deployment-name}` замените на имя вашего deployment.

3. Имя модели необходимо выбрать вручную как пользовательскую модель, измените на: `gpt-35-turbo`,

> Если у вас возникнут вопросы, вы можете открыть PlayGround в Azure AI Studio, нажать 【View Code】, ниже будет указан окончательный 【EndPoint】 и 【Key】, как показано на изображении:

![](https://s.immersivetranslate.com/static/official-static/assets/docs/doc-assets/azure-openai-key.jpg)

## Настройка адреса API OpenAI

- Вы можете настроить это через `Дополнительные настройки`, вход следующий:

---

<img width="951" alt="Snipaste_2023-04-08_19-29-18" src="https://user-images.githubusercontent.com/5794691/230718739-ff661ce3-04af-4391-8efc-9a5a1c8374b0.png"/>

---
